{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hasib\\\\Documents\\\\GitHub\\\\WellbeingApp\\\\src\\\\nutrition.js\",\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\n/* eslint-disable react-hooks/rules-of-hooks */\n\n/* eslint-disable no-undef */\nimport React, { useEffect, useState, Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport app from './firebaseconfig';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport clsx from 'clsx';\nimport Drawer from '@material-ui/core/Drawer';\nimport { useHistory } from 'react-router-dom';\nimport FirebaseService from './firebaseservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet userAuth = app.auth().currentUser;\n\nclass NutritionT extends Component {\n  constructor(props) {\n    var _s = $RefreshSig$();\n\n    super(props);\n\n    this.componentDidMount = () => {\n      app.auth().onAuthStateChanged(user => {\n        if (user) {\n          console.log(\"User is logged in\");\n          userAuth = user;\n          console.log(userAuth);\n          FirebaseService.getAllFood(userAuth.uid).on(\"value\", this.onDataChange);\n        } else {\n          console.log(\"User not logged in\");\n        }\n      });\n\n      if (this.state.isLoading === true) {\n        this.setState({\n          isLoading: false\n        });\n      }\n\n      if (userAuth !== null) {\n        console.log(userAuth.uid);\n      }\n    };\n\n    this.componentWillUnmount = () => {\n      app.auth().onAuthStateChanged(user => {\n        if (user) {\n          console.log(\"User is logged in\");\n          userAuth = user;\n          console.log(userAuth);\n          FirebaseService.getAllFood(userAuth.uid).off(\"value\", this.onDataChange);\n        } else {\n          console.log(\"User not logged in\");\n        }\n      });\n\n      if (this.state.isLoading === true) {\n        this.setState({\n          isLoading: false\n        });\n      }\n\n      if (userAuth !== null) {\n        console.log(userAuth.uid);\n      }\n    };\n\n    this.onDataChange = items => {\n      console.log(items);\n      let foods = [];\n      items.forEach(item => {\n        let data = item.val();\n        foods.push({\n          key: item.key,\n          foodname: data.FoodName,\n          calories: data.Calories\n        });\n      });\n      this.setState({\n        Food: foods,\n        isLoading: false\n      });\n    };\n\n    this.ManageDialog = _s(() => {\n      _s();\n\n      const history = useHistory();\n      const {\n        Food\n      } = this.state;\n      console.log(this.state.Food);\n      const [open, setOpen] = useState(false);\n\n      const handleOpen = () => {\n        setOpen(true);\n      };\n\n      const handleClose = () => {\n        setOpen(false);\n      };\n\n      const foodList = Food.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              whiteSpace: 'nowrap'\n            },\n            children: item.foodname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.calories\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this)]\n        }, item.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 20\n        }, this);\n      });\n      console.log(foodList);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleOpen,\n          children: \"View Nutrition history\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          open: open,\n          onClose: handleClose,\n          \"aria-labelledby\": \"form-dialog-title\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"form-dialog-title\",\n            children: \"Your Nutrition History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    width: \"20%\",\n                    children: \"Food Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    width: \"20%\",\n                    children: \"Amount of Calories\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: foodList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              color: \"primary\",\n              children: \"Go Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this);\n    }, \"NSg7s7fS0wCHRugZHN+mOaPITdA=\", false, function () {\n      return [useHistory];\n    });\n    this.state = {\n      Food: [],\n      isLoading: true\n    };\n    this.remove = this.remove.bind(this);\n  }\n\n  async remove(key) {\n    FirebaseService.delete(key).then(() => {\n      let updatedFood = [...this.state.Food].filter(i => i.key !== key);\n      this.setState({\n        Food: updatedFood\n      });\n    });\n  }\n\n  render() {\n    const {\n      isLoading\n    } = this.state;\n\n    if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(this.ManageDialog, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default function showNutrition() {\n  _s2();\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ButtonAppBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"center\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      display: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 92\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nutrition Tracker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: () => history.push('/addfood'),\n        children: \"Add Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NutritionT, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(showNutrition, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n  list: {\n    width: 250\n  },\n  fullList: {\n    width: 'auto'\n  }\n}));\n\nfunction ButtonAppBar() {\n  _s3();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [state, setState] = React.useState({\n    left: false\n  });\n\n  const toggleDrawer = (anchor, open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state,\n      [anchor]: open\n    });\n  };\n\n  const goToSelected = text => {\n    if (text === 'Home') {\n      history.push('/');\n    } else if (text === 'Book Appointment') {\n      history.push('/bookappointment');\n    } else if (text === 'Fitness') {\n      history.push('/fitness');\n    } else if (text === 'Mood') {\n      history.push('/mood');\n    } else if (text === 'Information') {\n      history.push('/information');\n    }\n  };\n\n  const list = anchor => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(classes.list, {\n      [classes.fullList]: anchor === 'top' || anchor === 'bottom'\n    }),\n    role: \"presentation\",\n    onClick: toggleDrawer(anchor, false),\n    onKeyDown: toggleDrawer(anchor, false),\n    children: [/*#__PURE__*/_jsxDEV(List, {\n      children: ['Home', 'Feed', 'Fitness', 'Mood', 'Book Appointment'].map((text, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n        button: true,\n        onClick: () => goToSelected(text),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 17\n        }, this)\n      }, text, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: ['Information', 'Settings'].map((text, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n        button: true,\n        onClick: () => goToSelected(text),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 17\n        }, this)\n      }, text, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          onClick: toggleDrawer('left', true),\n          className: classes.menuButton,\n          color: \"inherit\",\n          \"aria-label\": \"menu\",\n          children: [/*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n            anchor: 'left',\n            open: state['left'],\n            onClose: toggleDrawer('left', false),\n            children: list('left')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          className: classes.title,\n          children: \"Nutrition Tracker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          onClick: () => app.auth().signOut(),\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(ButtonAppBar, \"YtXl58YPxLgMyGfc7r/JEWdJhHY=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = ButtonAppBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ButtonAppBar\");","map":{"version":3,"sources":["C:/Users/hasib/Documents/GitHub/WellbeingApp/src/nutrition.js"],"names":["React","useEffect","useState","Component","Button","Dialog","DialogActions","DialogContent","DialogTitle","app","makeStyles","AppBar","Toolbar","Typography","IconButton","MenuIcon","List","Divider","ListItem","ListItemIcon","ListItemText","clsx","Drawer","useHistory","FirebaseService","userAuth","auth","currentUser","NutritionT","constructor","props","componentDidMount","onAuthStateChanged","user","console","log","getAllFood","uid","on","onDataChange","state","isLoading","setState","componentWillUnmount","off","items","foods","forEach","item","data","val","push","key","foodname","FoodName","calories","Calories","Food","ManageDialog","history","open","setOpen","handleOpen","handleClose","foodList","map","whiteSpace","remove","bind","delete","then","updatedFood","filter","i","render","showNutrition","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","list","width","fullList","ButtonAppBar","classes","left","toggleDrawer","anchor","event","type","goToSelected","text","index","signOut"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\r\n/* eslint-disable no-undef */\r\nimport React, { useEffect, useState, Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport app from './firebaseconfig';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport clsx from 'clsx';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport { useHistory } from 'react-router-dom';\r\nimport FirebaseService from './firebaseservice';\r\nlet userAuth = app.auth().currentUser;\r\n\r\n\r\nclass NutritionT extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Food: [],\r\n            isLoading: true\r\n        };\r\n        this.remove = this.remove.bind(this);\r\n    }\r\n    \r\n    componentDidMount = () => {\r\n        app.auth().onAuthStateChanged((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tconsole.log(\"User is logged in\")\r\n                userAuth = user\r\n                console.log(userAuth)\r\n                FirebaseService.getAllFood(userAuth.uid).on(\"value\", this.onDataChange);\r\n\r\n\t\t\t} else {\r\n                console.log(\"User not logged in\")\r\n\t\t\t}\r\n\t\t});\r\n        if (this.state.isLoading === true) {            \r\n            this.setState({ isLoading: false })\r\n        }\r\n        if (userAuth !== null) {\r\n            console.log(userAuth.uid)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        app.auth().onAuthStateChanged((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tconsole.log(\"User is logged in\")\r\n                userAuth = user\r\n                console.log(userAuth)\r\n                FirebaseService.getAllFood(userAuth.uid).off(\"value\", this.onDataChange);\r\n\r\n\t\t\t} else {\r\n                console.log(\"User not logged in\")\r\n\t\t\t}\r\n\t\t});\r\n        if (this.state.isLoading === true) {            \r\n            this.setState({ isLoading: false })\r\n        }\r\n        if (userAuth !== null) {\r\n            console.log(userAuth.uid)\r\n        }\r\n    }\r\n\r\n    async remove(key) {\r\n        FirebaseService.delete(key)\r\n        .then(() => {\r\n            let updatedFood = [...this.state.Food].filter(i => i.key !== key);\r\n            this.setState({Food: updatedFood});\r\n        });\r\n    }\r\n\r\n    onDataChange = (items) => {\r\n        console.log(items);\r\n        let foods = [];\r\n        items.forEach(item => {\r\n            let data = item.val();\r\n            foods.push({\r\n                key: item.key,\r\n                foodname: data.FoodName,\r\n                calories: data.Calories\r\n            });\r\n        });\r\n    \r\n        this.setState({\r\n            Food: foods,\r\n            isLoading: false\r\n        });\r\n    }\r\n\r\n    ManageDialog = () => {\r\n        const history = useHistory();\r\n        const { Food } = this.state;\r\n        \r\n        console.log(this.state.Food)\r\n        \r\n        const [open, setOpen] = useState(false);\r\n\r\n    \r\n        const handleOpen = () => {\r\n            setOpen(true);\r\n        };\r\n    \r\n        \r\n        const handleClose = () => {\r\n            setOpen(false);\r\n        };\r\n\r\n        const foodList = Food.map(item => {\r\n            return <tr key={item.key}>\r\n                <td style={{whiteSpace: 'nowrap'}}>{item.foodname}</td>\r\n                <td>{item.calories}</td>\r\n            </tr>\r\n        });\r\n\r\n        console.log(foodList)\r\n    \r\n        return (\r\n            <div>\r\n            <Button variant=\"outlined\" color=\"primary\" onClick={handleOpen}>\r\n            View Nutrition history\r\n            </Button>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Your Nutrition History</DialogTitle>\r\n            <DialogContent>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th width=\"20%\">Food Name</th>\r\n                            <th width=\"20%\">Amount of Calories</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {foodList}\r\n                    </tbody>\r\n                </table>                 \r\n            </DialogContent>\r\n            <DialogActions><br />\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                Go Back\r\n                </Button>\r\n            </DialogActions>\r\n            </Dialog>                            \r\n            </div>\r\n            );\r\n    }\r\n   \r\n    render() {\r\n        const { isLoading } = this.state;\r\n\r\n        if (isLoading) {\r\n            return <p>Loading...</p>;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <this.ManageDialog />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default function showNutrition() {\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div>\r\n            <ButtonAppBar /><br />\r\n            <div align=\"center\" alignItems=\"center\" justifyContent=\"center\" display=\"flex\"><br />\r\n                <h2>Nutrition Tracker</h2>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={ () => history.push('/addfood') }>\r\n                    Add Information\r\n                </Button>\r\n                <NutritionT />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    list: {\r\n        width: 250,\r\n    },\r\n    fullList: {\r\n    width: 'auto',\r\n    },\r\n  }));\r\n\r\nfunction ButtonAppBar() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [state, setState] = React.useState({\r\n        left: false,\r\n    });\r\n    \r\n    const toggleDrawer = (anchor, open) => (event) => {\r\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n        return;\r\n        }\r\n    \r\n        setState({ ...state, [anchor]: open });\r\n    };\r\n\r\n    const goToSelected = (text) => {\r\n        if (text === 'Home') {\r\n            history.push('/')\r\n        }\r\n        else if (text === 'Book Appointment') {\r\n            history.push('/bookappointment')\r\n        }\r\n        else if (text === 'Fitness') {\r\n            history.push('/fitness')\r\n        }\r\n        else if (text === 'Mood') {\r\n            history.push('/mood')\r\n        }\r\n        else if (text === 'Information') {\r\n            history.push('/information')\r\n        }\r\n    }\r\n    \r\n    const list = (anchor) => (\r\n        <div\r\n        className={clsx(classes.list, {\r\n            [classes.fullList]: anchor === 'top' || anchor === 'bottom',\r\n        })}\r\n        role=\"presentation\"\r\n        onClick={toggleDrawer(anchor, false)}\r\n        onKeyDown={toggleDrawer(anchor, false)}\r\n        >\r\n        <List>\r\n            {['Home', 'Feed', 'Fitness', 'Mood', 'Book Appointment'].map((text, index) => (\r\n            <ListItem button key={text} onClick={ () => goToSelected(text)}>\r\n                <ListItemText primary={text} />\r\n            </ListItem>\r\n            ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n            {['Information', 'Settings'].map((text, index) => (\r\n            <ListItem button key={text} onClick={ () => goToSelected(text)}>\r\n                <ListItemText primary={text} />\r\n            </ListItem>\r\n            ))}\r\n        </List>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <IconButton edge=\"start\" onClick={toggleDrawer('left', true)} className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n                <MenuIcon />\r\n                <Drawer anchor={'left'} open={state['left']} onClose={toggleDrawer('left', false)}>\r\n                        {list('left')}\r\n                    </Drawer>\r\n                </IconButton>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                Nutrition Tracker\r\n                </Typography>\r\n                <Button color=\"inherit\" onClick={() => app.auth().signOut()}>Log Out</Button>\r\n            </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}