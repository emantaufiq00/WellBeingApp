{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hasib\\\\Documents\\\\GitHub\\\\WellbeingApp\\\\src\\\\accountBox\\\\signupForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, Component } from \"react\";\nimport { BoxContainer, FormContainer, Input, SubmitButton, MutedLink, BoldLink } from \"./common\";\nimport { Marginer } from \"../marginer\";\nimport { AccountContext } from \"./accountContent\";\nimport 'firebase/auth';\nimport { useFirebaseApp } from 'reactfire';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function SignupForm() {\n  _s();\n\n  const {\n    switchToSignin\n  } = useContext(AccountContext);\n  const [user, setUser] = useState({\n    username: '',\n    email: '',\n    password: '',\n    error: ''\n  });\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value,\n      error: ''\n    });\n  };\n\n  const firebase = useFirebaseApp();\n\n  const handleSubmit = async e => {\n    e.preventDefault(); // Sign up code here.\n\n    await firebase.auth().createUserWithEmailAndPassword(user.email, user.password).then(result => {\n      // Update the nickname\n      result.user.updateProfile({\n        displayName: user.username\n      }); // URL of my website.\n\n      const myURL = {\n        url: 'http://localhost:3000/'\n      }; // Send Email Verification and redirect to my website.\n\n      result.user.sendEmailVerification(myURL).then(() => {\n        setUser({ ...user,\n          verifyEmail: `Welcome ${user.username}. To continue please verify your email.`\n        });\n      }).catch(error => {\n        setUser({ ...user,\n          error: error.message\n        });\n      }); // Sign Out the user.\n\n      firebase.auth().signOut();\n    }).catch(error => {\n      // Update the error\n      setUser({ ...user,\n        error: error.message\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FormContainer, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        name: \"username\",\n        type: \"text\",\n        placeholder: \"Username\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"email\",\n        type: \"text\",\n        placeholder: \"Email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n        direction: \"vertical\",\n        margin: \"1.6em\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), user.error && /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: user.error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 32\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"0.2em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(BoldLink, {\n        href: \"#\",\n        onClick: switchToSignin,\n        children: \"Signin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 13\n  }, this);\n}\n\n_s(SignupForm, \"gyE8zAQpsX2S26abNdW3yCD8Bzk=\", false, function () {\n  return [useFirebaseApp];\n});\n\n_c = SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"sources":["C:/Users/hasib/Documents/GitHub/WellbeingApp/src/accountBox/signupForm.jsx"],"names":["React","useState","useContext","Component","BoxContainer","FormContainer","Input","SubmitButton","MutedLink","BoldLink","Marginer","AccountContext","useFirebaseApp","SignupForm","switchToSignin","user","setUser","username","email","password","error","handleChange","e","target","name","value","firebase","handleSubmit","preventDefault","auth","createUserWithEmailAndPassword","then","result","updateProfile","displayName","myURL","url","sendEmailVerification","verifyEmail","catch","message","signOut"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,KAAtC,EAA6CC,YAA7C,EAA2DC,SAA3D,EAAsEC,QAAtE,QAAsF,UAAtF;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAO,eAAP;AACA,SAASC,cAAT,QAA+B,WAA/B;;AAEA,OAAO,SAASC,UAAT,GAAsB;AAAA;;AAEzB,QAAM;AAAEC,IAAAA;AAAF,MAAqBZ,UAAU,CAACS,cAAD,CAArC;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC;AAC7BgB,IAAAA,QAAQ,EAAE,EADmB;AAE7BC,IAAAA,KAAK,EAAE,EAFsB;AAG7BC,IAAAA,QAAQ,EAAE,EAHmB;AAI7BC,IAAAA,KAAK,EAAE;AAJsB,GAAD,CAAhC;;AAOA,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACtBN,IAAAA,OAAO,CAAC,EACJ,GAAGD,IADC;AAEJ,OAACO,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE,KAFtB;AAGJL,MAAAA,KAAK,EAAE;AAHH,KAAD,CAAP;AAKH,GAND;;AAQA,QAAMM,QAAQ,GAAGd,cAAc,EAA/B;;AAEA,QAAMe,YAAY,GAAG,MAAML,CAAN,IAAY;AAC7BA,IAAAA,CAAC,CAACM,cAAF,GAD6B,CAE7B;;AACA,UAAMF,QAAQ,CAACG,IAAT,GAAgBC,8BAAhB,CAA+Cf,IAAI,CAACG,KAApD,EAA2DH,IAAI,CAACI,QAAhE,EACHY,IADG,CACEC,MAAM,IAAI;AACd;AACAA,MAAAA,MAAM,CAACjB,IAAP,CAAYkB,aAAZ,CAA0B;AACxBC,QAAAA,WAAW,EAAEnB,IAAI,CAACE;AADM,OAA1B,EAFc,CAMd;;AACA,YAAMkB,KAAK,GAAG;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAAd,CAPc,CASd;;AACAJ,MAAAA,MAAM,CAACjB,IAAP,CAAYsB,qBAAZ,CAAkCF,KAAlC,EACGJ,IADH,CACQ,MAAM;AACVf,QAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAENuB,UAAAA,WAAW,EAAG,WAAUvB,IAAI,CAACE,QAAS;AAFhC,SAAD,CAAP;AAID,OANH,EAOGsB,KAPH,CAOSnB,KAAK,IAAI;AACdJ,QAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAENK,UAAAA,KAAK,EAAEA,KAAK,CAACoB;AAFP,SAAD,CAAP;AAID,OAZH,EAVc,CAwBd;;AACAd,MAAAA,QAAQ,CAACG,IAAT,GAAgBY,OAAhB;AACD,KA3BG,EA2BDF,KA3BC,CA2BKnB,KAAK,IAAI;AAChB;AACAJ,MAAAA,OAAO,CAAC,EACN,GAAGD,IADG;AAENK,QAAAA,KAAK,EAAEA,KAAK,CAACoB;AAFP,OAAD,CAAP;AAID,KAjCG,CAAN;AAkCH,GArCD;;AAuCA,sBACQ,QAAC,YAAD;AAAA,4BACI,QAAC,aAAD;AAAe,MAAA,QAAQ,EAAEb,YAAzB;AAAA,8BACI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,MAA5B;AAAmC,QAAA,WAAW,EAAC,UAA/C;AAA0D,QAAA,QAAQ,EAAEN;AAApE;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,IAAI,EAAC,MAAzB;AAAgC,QAAA,WAAW,EAAC,OAA5C;AAAoD,QAAA,QAAQ,EAAEA;AAA9D;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,IAAI,EAAC,UAA5B;AAAuC,QAAA,WAAW,EAAC,UAAnD;AAA8D,QAAA,QAAQ,EAAEA;AAAxE;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAE;AAAvC;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI,QAAC,QAAD;AAAU,QAAA,SAAS,EAAC,UAApB;AAA+B,QAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI,QAAC,YAAD;AAAc,QAAA,IAAI,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EASKN,IAAI,CAACK,KAAL,iBAAc;AAAA,gBAAKL,IAAI,CAACK;AAAV;AAAA;AAAA;AAAA;AAAA,YATnB,eAUI,QAAC,QAAD;AAAU,MAAA,SAAS,EAAC,UAApB;AAA+B,MAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,YAVJ,eAWI,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,GAAhB;AAAA,2DAA6C,QAAC,QAAD;AAAU,QAAA,IAAI,EAAC,GAAf;AAAmB,QAAA,OAAO,EAAEN,cAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADR;AAgBH;;GA3EeD,U;UAkBKD,c;;;KAlBLC,U","sourcesContent":["\r\nimport React, { useState, useContext, Component } from \"react\";\r\nimport { BoxContainer, FormContainer, Input, SubmitButton, MutedLink, BoldLink } from \"./common\";\r\nimport { Marginer } from \"../marginer\";\r\nimport { AccountContext } from \"./accountContent\";\r\nimport 'firebase/auth';\r\nimport { useFirebaseApp } from 'reactfire';\r\n\r\nexport function SignupForm() {\r\n\r\n    const { switchToSignin } = useContext(AccountContext);\r\n    const [user, setUser] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        error: '',\r\n    });\r\n\r\n    const handleChange = e => {\r\n        setUser({\r\n            ...user,\r\n            [e.target.name]: e.target.value,\r\n            error: '',\r\n        })\r\n    };\r\n\r\n    const firebase = useFirebaseApp();\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n        // Sign up code here.\r\n        await firebase.auth().createUserWithEmailAndPassword(user.email, user.password)\r\n          .then(result => {\r\n            // Update the nickname\r\n            result.user.updateProfile({\r\n              displayName: user.username,\r\n            });\r\n    \r\n            // URL of my website.\r\n            const myURL = { url: 'http://localhost:3000/' }\r\n    \r\n            // Send Email Verification and redirect to my website.\r\n            result.user.sendEmailVerification(myURL)\r\n              .then(() => {\r\n                setUser({\r\n                  ...user,\r\n                  verifyEmail: `Welcome ${user.username}. To continue please verify your email.`,\r\n                })\r\n              })\r\n              .catch(error => {\r\n                setUser({\r\n                  ...user,\r\n                  error: error.message,\r\n                })\r\n              })\r\n    \r\n            // Sign Out the user.\r\n            firebase.auth().signOut();\r\n          }).catch(error => {\r\n            // Update the error\r\n            setUser({\r\n              ...user,\r\n              error: error.message,\r\n            })\r\n          })  \r\n    }\r\n\r\n    return (\r\n            <BoxContainer>\r\n                <FormContainer onSubmit={handleSubmit}>\r\n                    <Input name=\"username\" type=\"text\" placeholder=\"Username\" onChange={handleChange} />\r\n                    <Input name=\"email\" type=\"text\" placeholder=\"Email\" onChange={handleChange} />\r\n                    <Input name=\"password\" type=\"password\" placeholder=\"Password\" onChange={handleChange} />\r\n                    <Marginer direction=\"vertical\" margin={0} />\r\n                    <Marginer direction=\"vertical\" margin=\"1.6em\" />\r\n                    <SubmitButton type=\"submit\">Register</SubmitButton>\r\n                </FormContainer>\r\n                {user.error && <h4>{user.error}</h4>}\r\n                <Marginer direction=\"vertical\" margin=\"0.2em\" />\r\n                <MutedLink href=\"#\">Already have an account? <BoldLink href=\"#\" onClick={switchToSignin}>Signin</BoldLink></MutedLink>\r\n            </BoxContainer>\r\n    );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}